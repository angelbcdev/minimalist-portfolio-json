---
import type { TRepositorioWithId } from "../provider/projects";
import LinksButton from "./LinksButton.astro";
export interface Props {
  Repo: TRepositorioWithId;
}

const { Repo } = Astro.props;

console.log("Repo", Repo);

const { title, about, img, code, repoLink, pageLink } = Repo;
---

<main
  class="group relative w-[400px] m-6 bg-slate-500/40 rounded-lg block h-64 sm:h-80 lg:h-96 mx-auto"
>
  <a href={`/repoDetails/${Repo.id}`}>
    <div
      class="relative flex h-full transition-all ease-linear 300 transform items-end bg-slate-100 border-2 rounded-lg overflow-hidden border-[#3f5358] group-hover:border-[#b5f1ff] group-hover:shadow-[0_0_2px_4px_rgba(181,241,255,0.5)]"
    >
      <div
        class="transition-all ease-linear 300 duration-200 delay-100 group-hover:opacity-0 opacity-100"
      >
        <!-- front side -->
        <img
          class="sm:h-[240px] h-[20px] w-full object-fill object-top absolute top-0 group-hover:scale-110 transition-all ease-linear 300 duration-500 group-hover:blur-sm"
          src={img[0]}
          alt={title}
        />
        <div
          class="p-4 relative !pt-0 transition-all ease-linear 300 duration-500 group-hover:absolute group-hover:opacity-0 sm:p-6 lg:p-8"
        >
          <div
            class="bg-slate-100 md:bg-trasparent w-[420px] relative right-8 pt-6 pl-4"
          >
            <p class="text-xl font-medium sm:text-2xl">{title}</p>
            <p
              class="mt-4 h-[50px] overflow-auto text-sm sm:text-base text-[#3f5358]"
            >
              {about}
            </p>
          </div>
        </div>
      </div>
      <section
        class="transition-all w-[380px] ease-linear 300 duration-200 delay-200 group-hover:opacity-100 absolute top-0 opacity-0"
      >
        <!-- back side -->

        <div
          class="p-4 relative transition-all top-40 ease-linear 300 duration-500 group-hover:top-0 sm:p-6 lg:p-8"
        >
          <p class="text-xl font-medium sm:text-2xl mt-4">{title}</p>
          <p
            class="mt-4 h-[60px] md:h-[160px] overflow-scroll text-sm sm:text-base text-[#3f5358]"
          >
            {about}
          </p>

          <div class="w-full flex flex-row gap-2 my-4">
            {
              code.map((info: string) => (
                <span class="bg-blue-200 rounded-md font-semibold  text-[14px] text-slate-800 py-1 px-2  mx-1">
                  {info}
                </span>
              ))
            }
          </div>
        </div>
      </section>
      <div
        class="hidden md:block absolute group-hover:bottom-3 -bottom-36 left-8 opacity-0 transition-all ease-linear 300 duration-500 delay-50 group-hover:opacity-100"
      >
        <LinksButton links={`/repoDetails/${Repo.id}`} type="go" />
      </div>
    </div>
  </a>
</main>
